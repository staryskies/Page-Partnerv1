<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PagePartner - Tell Us About Your Reading</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');
   
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', 'Open Sans', sans-serif;
    }

    body {
      background-color: #FCFAF7;
      color: #1A365D;
      line-height: 1.6;
      padding-bottom: 40px;
    }

    header {
      background-color: #ffffff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.07);
      padding: 15px 5%;
      display: flex;
      justify-content: center;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo-container {
      display: flex;
      align-items: center;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      margin-right: 10px;
    }

    .logo-text {
      font-size: 1.8rem;
      font-weight: 700;
      color: #2A9D8F;
      letter-spacing: -0.5px;
    }

    .container {
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .onboarding-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .onboarding-header h1 {
      font-size: 2.2rem;
      font-weight: 700;
      color: #1A365D;
      margin-bottom: 10px;
    }

    .onboarding-header p {
      color: #4A5568;
      font-size: 1.1rem;
    }

    .progress-bar {
      height: 8px;
      background-color: #E2E8F0;
      border-radius: 4px;
      margin-bottom: 40px;
      overflow: hidden;
    }

    .progress-completed {
      height: 100%;
      background-color: #2A9D8F;
      border-radius: 4px;
      width: 0%;
      transition: width 0.5s ease;
    }

    .quiz-form {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
      padding: 40px;
    }

    .form-section {
      display: none;
    }

    .form-section.active {
      display: block;
    }

    .form-section h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: #1A365D;
      margin-bottom: 20px;
    }

    .form-section p {
      color: #4A5568;
      margin-bottom: 25px;
      font-size: 0.95rem;
    }

    .welcome-section {
      text-align: center;
      padding: 20px 0;
    }

    .welcome-section h2 {
      font-size: 1.8rem;
      margin-bottom: 20px;
    }

    .welcome-section p {
      font-size: 1.1rem;
      margin-bottom: 30px;
    }
    .input-field {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #E2E8F0;
      border-radius: 8px;
      font-size: 0.95rem;
      transition: border-color 0.3s ease;
      margin-bottom: 10px;
    }

    .input-field:focus {
      outline: none;
      border-color: #2A9D8F;
    }

    .location-group {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 10px;
    }

    .selection-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-bottom: 20px;
    }

    .selection-group.centered {
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .selection-item {
      padding: 12px 15px;
      border: 1px solid #E2E8F0;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      background-color: #fff;
    }

    .selection-item:hover {
      border-color: #2A9D8F;
      background-color: rgba(42, 157, 143, 0.05);
    }

    .selection-item.selected {
      background-color: rgba(42, 157, 143, 0.1);
      border-color: #2A9D8F;
      color: #2A9D8F;
    }

    .range-container {
      margin: 20px 0;
    }

    .range-slider {
      width: 100%;
      -webkit-appearance: none;
      height: 6px;
      background: #E2E8F0;
      border-radius: 3px;
      outline: none;
      margin: 15px 0;
    }

    .range-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: #2A9D8F;
      border-radius: 50%;
      cursor: pointer;
    }

    .range-labels {
      display: flex;
      justify-content: space-between;
      color: #4A5568;
      font-size: 0.9rem;
    }

    .selected-value {
      text-align: center;
      color: #2A9D8F;
      margin-top: 10px;
    }

    .form-navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 40px;
    }

    .prev-btn, .next-btn, .submit-btn {
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .prev-btn {
      background-color: #E2E8F0;
      color: #4A5568;
    }

    .prev-btn:hover {
      background-color: #CBD5E0;
    }

    .next-btn, .submit-btn {
      background-color: #2A9D8F;
      color: white;
    }

    .next-btn:hover, .submit-btn:hover {
      background-color: #238177;
    }

    .next-btn:disabled, .submit-btn:disabled {
      background-color: #A0AEC0;
      cursor: not-allowed;
    }

    .error-message {
      color: #E53E3E;
      font-size: 0.85rem;
      margin-top: 5px;
      display: none;
    }

    .help-text {
      font-size: 0.85rem;
      color: #718096;
      margin-top: 5px;
    }

    @media (max-width: 768px) {
      .quiz-form {
        padding: 30px 20px;
      }
      .selection-group {
        grid-template-columns: 1fr;
      }
      .location-group {
        grid-template-columns: 1fr;
      }
      .quest-features {
        gap: 10px;
      }
      .feature-item {
        width: 140px;
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-container">
      <img src="logo.png" alt="PagePartner Logo" class="logo-icon">
      <span class="logo-text">PagePartner</span>
    </div>
  </header>

  <div class="container">
    <div class="onboarding-header">
      <h1>Tell Us About Your Reading</h1>
      <p>Help us personalize your experience in just a few steps</p>
    </div>

    <div class="progress-bar">
      <div class="progress-completed" id="progress-bar"></div>
    </div>

    <form id="onboarding-form" class="quiz-form">
      <!-- Welcome Section -->
      <div class="form-section active" id="section-welcome">
        <div class="welcome-section">
          <h2>Discover Your Perfect Reading Experience</h2>
          <p>Fill out our quick questionnaire with 8 simple questions, and we'll personalize your PagePartner experience to match your unique reading preferences.</p>
          <div class="quest-features">
            <div class="feature-item">
              <i class="fas fa-book feature-icon"></i>
              <div class="feature-text">Tailored Book Recommendations</div>
            </div>
            <div class="feature-item">
              <i class="fas fa-users feature-icon"></i>
              <div class="feature-text">Connect with Fellow Readers</div>
            </div>
            <div class="feature-item">
              <i class="fas fa-chart-line feature-icon"></i>
              <div class="feature-text">Track Reading Progress</div>
            </div>
           
          </div>
          <button type="button" class="start-quest-btn" onclick="goToSection(2)">Start Quest</button>
        </div>
      </div>

      <!-- Section 2: Profile Picture -->
      <div class="form-section" id="section-2">
        <h2>Add a profile picture</h2>
        <p>This is completely optional. You can continue without adding a photo.</p>
        <div class="file-upload">
          <img id="profile-preview" class="file-upload-preview" alt="Profile Preview" style="display: none;">
          <label for="profile-picture" class="file-upload-label">
            <i class="fas fa-cloud-upload-alt file-upload-icon"></i>
            <div class="file-upload-text">
              <span>Drag & drop a photo here or click to browse</span>
              <small>JPG, PNG or GIF (max 5MB)</small>
            </div>
          </label>
          <input type="file" id="profile-picture" name="profile_picture" accept="image/*" style="display: none;">
        </div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection('welcome')">Previous</button>
          <button type="button" class="next-btn" onclick="goToSection(3)">Next</button>
        </div>
      </div>

      <!-- Section 3: Location -->
      <div class="form-section" id="section-3">
        <h2>Where are you located?</h2>
        <p>This helps us connect you with local book clubs and events in the USA.</p>
        <div class="location-group">
          <input type="text" class="input-field" id="user-city" name="user_city" placeholder="City">
          <input type="text" class="input-field" id="user-state" name="user_state" placeholder="State (e.g., CA)" maxlength="2">
        </div>
        <div class="error-message" id="error-location">Please enter both city and state</div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(2)">Previous</button>
          <button type="button" class="next-btn" id="next-3" onclick="validateAndProceed(3, 4)">Next</button>
        </div>
      </div>

      <!-- Section 4: Genres -->
      <div class="form-section" id="section-4">
        <h2>What genres do you enjoy reading?</h2>
        <p>Select all that apply. This helps us suggest books you'll love.</p>
        <div class="selection-group" id="genre-selection">
          <div class="selection-item" data-value="Fiction">Fiction</div>
          <div class="selection-item" data-value="Non-Fiction">Non-Fiction</div>
          <div class="selection-item" data-value="Mystery">Mystery</div>
          <div class="selection-item" data-value="Science Fiction">Science Fiction</div>
          <div class="selection-item" data-value="Fantasy">Fantasy</div>
          <div class="selection-item" data-value="Romance">Romance</div>
          <div class="selection-item" data-value="Horror">Horror</div>
          <div class="selection-item" data-value="Biography">Biography</div>
          <div class="selection-item" data-value="History">History</div>
          <div class="selection-item" data-value="Poetry">Poetry</div>
          <div class="selection-item" data-value="Classics">Classics</div>
          <div class="selection-item" data-value="Self-Help">Self-Help</div>
        </div>
        <div class="error-message" id="error-genres">Please select at least one genre</div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(3)">Previous</button>
          <button type="button" class="next-btn" id="next-4" onclick="validateAndProceed(4, 5)">Next</button>
        </div>
      </div>

      <!-- Section 5: Favorite Authors -->
      <div class="form-section" id="section-5">
        <h2>Who are your favorite authors?</h2>
        <p>Share a few of your favorite authors so we can find similar writers you might enjoy.</p>
        <div id="authors-container">
          <input type="text" class="input-field" name="favorite_authors[]" placeholder="Author 1">
          <input type="text" class="input-field" name="favorite_authors[]" placeholder="Author 2">
          <input type="text" class="input-field" name="favorite_authors[]" placeholder="Author 3">
        </div>
        <div class="error-message" id="error-authors">Please enter at least one author</div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(4)">Previous</button>
          <button type="button" class="next-btn" id="next-5" onclick="validateAndProceed(5, 6)">Next</button>
        </div>
      </div>

      <!-- Section 6: Reading Pace -->
      <div class="form-section" id="section-6">
        <h2>How many books do you typically read?</h2>
        <p>This helps us set appropriate reading goals and recommendations.</p>
        <div class="range-container">
          <input type="range" class="range-slider" id="reading-pace" name="reading_pace" min="0" max="10" step="1" value="2">
          <div class="range-labels">
            <span>0</span>
            <span>5</span>
            <span>10+</span>
          </div>
          <div class="selected-value" id="pace-value">2 books per month</div>
        </div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(5)">Previous</button>
          <button type="button" class="next-btn" onclick="goToSection(8)">Next</button>
        </div>
      </div>

      <!-- Section 8: Reading Goals -->
      <div class="form-section" id="section-8">
        <h2>What are your primary reading goals?</h2>
        <p>This helps us understand why you read and tailor recommendations accordingly.</p>
        <div class="selection-group centered" id="goals-selection">
          <div class="selection-item" data-value="Entertainment">Entertainment</div>
          <div class="selection-item" data-value="Education">Learning/Education</div>
          <div class="selection-item" data-value="Personal Growth">Personal Growth</div>
          <div class="selection-item" data-value="Escape">Escape/Relaxation</div>
          <div class="selection-item" data-value="Perspective">New Perspectives</div>
          <div class="selection-item" data-value="Social">Social Discussion</div>
        </div>
        <div class="error-message" id="error-goals">Please select at least one reading goal</div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(6)">Previous</button>
          <button type="button" class="next-btn" id="next-8" onclick="validateAndProceed(8, 9)">Next</button>
        </div>
      </div>

      <!-- Section 9: To-Read List -->
      <div class="form-section" id="section-9">
        <h2>What books do you plan to read next?</h2>
        <p>Share a few books you're planning to read so we can help you track them.</p>
        <div id="books-container">
          <input type="text" class="input-field" name="to_read_list[]" placeholder="Book 1">
          <input type="text" class="input-field" name="to_read_list[]" placeholder="Book 2">
          <input type="text" class="input-field" name="to_read_list[]" placeholder="Book 3">
        </div>
        <div class="error-message" id="error-books">Please enter at least one book</div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(8)">Previous</button>
          <button type="button" class="next-btn" id="next-9" onclick="validateAndProceed(9, 10)">Next</button>
        </div>
      </div>

      <!-- Section 10: Book Lendth -->
      <div class="form-section" id="section-10">
        <h2>What book length do you prefer?</h2>
        <p>We'll prioritize recommendations based on your preferred book length.</p>
        <div class="selection-group" id="length-selection">
          <div class="selection-item" data-value="Short">Short Reads<br><small>(Under 300 pages)</small></div>
          <div class="selection-item" data-value="Medium">Medium Length<br><small>(300-500 pages)</small></div>
          <div class="selection-item" data-value="Long">Long Books<br><small>(Over 500 pages)</small></div>
          <div class="selection-item" data-value="Any">No Preference</div>
        </div>
        <div class="error-message" id="error-length">Please select a book length preference</div>
        <div class="form-navigation">
          <button type="button" class="prev-btn" onclick="goToSection(9)">Previous</button>
          <button type="submit" class="submit-btn" id="submit-btn" onclick="validateSubmit(event)">Finish</button>
        </div>
      </div>
    </form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      updateProgressBar(0, 8);

      // Range slider
      const paceSlider = document.getElementById('reading-pace');
      const paceValue = document.getElementById('pace-value');
      paceSlider.addEventListener('input', function () {
        paceValue.textContent = this.value + ' books per month';
      });

      // Profile picture preview
      const profileInput = document.getElementById('profile-picture');
      const profilePreview = document.getElementById('profile-preview');
      profileInput.addEventListener('change', function () {
        if (this.files && this.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            profilePreview.src = e.target.result;
            profilePreview.style.display = 'block';
          };
          reader.readAsDataURL(this.files[0]);
        }
      });

      // Multi-select functionality
      ['genre', 'goals'].forEach(type => {
        document.querySelectorAll(`#${type}-selection .selection-item`).forEach(item => {
          item.addEventListener('click', function () {
            this.classList.toggle('selected');
            validateSection(type === 'genre' ? 4 : 8);
          });
        });
      });

      // Single-select functionality
      document.querySelectorAll('#length-selection .selection-item').forEach(item => {
        item.addEventListener('click', function () {
          document.querySelectorAll('#length-selection .selection-item').forEach(i => i.classList.remove('selected'));
          this.classList.add('selected');
          validateSection(10);
        });
      });

      // Input validation for location, authors, and books
      ['user-city', 'user-state'].forEach(id => {
        document.getElementById(id).addEventListener('input', () => validateSection(3));
      });
      document.querySelectorAll('#authors-container input').forEach(input => {
        input.addEventListener('input', () => validateSection(5));
      });
      document.querySelectorAll('#books-container input').forEach(input => {
        input.addEventListener('input', () => validateSection(9));
      });

      // Submit event handler
      document.getElementById('onboarding-form').addEventListener('submit', function (e) {
        e.preventDefault();
        if (validateSection(10)) {
          alert('Thank you for sharing your preferences! Your personalized reading experience is ready.');
          window.location.href = 'index.html'; // Redirect to the dashboard
        }
      });
    });

    function goToSection(sectionNum) {
      document.querySelectorAll('.form-section').forEach(section => section.classList.remove('active'));
      const targetSection = sectionNum === 'welcome' ?
        document.getElementById('section-welcome') :
        document.getElementById(`section-${sectionNum}`);
      targetSection.classList.add('active');
     
      const stepMap = {2: 1, 3: 2, 4: 3, 5: 4, 6: 5, 8: 6, 9: 7, 10: 8};
      updateProgressBar(sectionNum === 'welcome' ? 0 : stepMap[sectionNum], 8);
      window.scrollTo(0, 0);
    }

    function updateProgressBar(currentStep, totalSteps) {
      document.getElementById('progress-bar').style.width = `${(currentStep / totalSteps) * 100}%`;
    }

    function validateSection(sectionNum) {
      let isValid = true;
      const errorElement = document.getElementById(`error-${getErrorId(sectionNum)}`);
      errorElement.style.display = 'none';

      switch(sectionNum) {
        case 3:
          const city = document.getElementById('user-city').value.trim();
          const state = document.getElementById('user-state').value.trim();
          if (!city || !state) {
            errorElement.style.display = 'block';
            isValid = false;
          }
          break;
        case 4:
          if (!document.querySelector('#genre-selection .selected')) {
            errorElement.style.display = 'block';
            isValid = false;
          }
          break;
        case 5:
          const authors = Array.from(document.querySelectorAll('#authors-container input'))
            .map(input => input.value.trim())
            .filter(val => val);
          if (authors.length === 0) {
            errorElement.style.display = 'block';
            isValid = false;
          }
          break;
        case 8:
          if (!document.querySelector('#goals-selection .selected')) {
            errorElement.style.display = 'block';
            isValid = false;
          }
          break;
        case 9:
          const books = Array.from(document.querySelectorAll('#books-container input'))
            .map(input => input.value.trim())
            .filter(val => val);
          if (books.length === 0) {
            errorElement.style.display = 'block';
            isValid = false;
          }
          break;
        case 10:
          if (!document.querySelector('#length-selection .selected')) {
            errorElement.style.display = 'block';
            isValid = false;
          }
          break;
      }

      const nextButton = document.getElementById(`next-${sectionNum}`);
      if (nextButton) nextButton.disabled = !isValid;
      return isValid;
    }

    function validateAndProceed(currentSection, nextSection) {
      if (validateSection(currentSection)) goToSection(nextSection);
    }

    function getErrorId(sectionNum) {
      const map = {3: 'location', 4: 'genres', 5: 'authors', 8: 'goals', 9: 'books', 10: 'length'};
      return map[sectionNum] || '';
    }

    function validateSubmit(event) {
      if (!validateSection(10)) event.preventDefault();
    }
  </script>
</body>
</html>